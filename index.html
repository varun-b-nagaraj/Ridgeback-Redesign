<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Responsive Dropdown Menu with Hamburger</title>

  <!-- Montserrat Font -->
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap"
    rel="stylesheet"
  />

  <style>
    :root {
      --menu-scale: 1;
      --menu-font-size: calc(16px * var(--menu-scale));
      --menu-padding: calc(20px * var(--menu-scale));
      --dropdown-bg: #fff;
    }

    /* ─────────────────────────────────────────────────────────────
       1) Base Reset & Prevent Scrolling
    ───────────────────────────────────────────────────────────── */
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      font-family: 'Montserrat', sans-serif;
      font-weight: 300;
      background: transparent !important;
      height: 100vh;
      overflow: hidden;
      width: 100%;
      /* Remove flex centering */
      display: block;
      align-items: unset;
      justify-content: unset;
    }

    body {
      min-height: 100vh;
      min-width: 100vw;
      /* Remove flex centering */
      display: block;
      align-items: unset;
      justify-content: unset;
    }

    a {
      text-decoration: none;
      color: inherit;
    }

    /* ─────────────────────────────────────────────────────────────
       2) Desktop Menu Container
    ───────────────────────────────────────────────────────────── */
    .menu-container {
      width: auto;
      height: auto;
      display: block;
      align-items: unset;
      justify-content: unset;
      background: transparent;
      position: fixed;
      top: 0;
      left: 0;
      right: unset;
      z-index: 100;
      /* Remove any padding/margin */
      margin: 0;
      padding: 0;
    }

    .menu {
      list-style: none;
      display: flex;
      justify-content: flex-start; /* left align */
      align-items: flex-start;
      background: transparent;
      padding: var(--menu-padding);
      margin: 0;
      user-select: none;
      flex-wrap: wrap;
      /* Remove any gap from the left/top */
      padding-top: 0;
      padding-left: 0;
      font-size: var(--menu-font-size);
    }

    /* ─────────────────────────────────────────────────────────────
       3) Hamburger Menu (Mobile)
    ───────────────────────────────────────────────────────────── */
    .hamburger {
      display: none;
      flex-direction: column;
      cursor: pointer;
      padding: 15px;
      background: transparent;
      border: none;
      z-index: 1001;
      position: fixed;
      top: 20px;
      right: 20px;
      left: unset;
    }

    .hamburger span {
      width: 25px;
      height: 3px;
      background: #333333;
      margin: 3px 0;
      transition: 0.3s;
      transform-origin: center;
    }

    .hamburger.active span:nth-child(1) {
      transform: rotate(45deg) translate(6px, 6px);
    }

    .hamburger.active span:nth-child(2) {
      opacity: 0;
    }

    .hamburger.active span:nth-child(3) {
      transform: rotate(-45deg) translate(7px, -6px);
    }

    .mobile-menu {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: var(--dropdown-bg);
      z-index: 1000;
      padding: 80px 20px 20px;
      overflow-y: auto;
      font-size: var(--menu-font-size);
    }

    .mobile-menu.active {
      display: block;
    }

    .mobile-menu ul {
      list-style: none;
    }

    .mobile-menu > ul > li {
      border-bottom: 1px solid #eee;
    }

    .mobile-menu a {
      display: block;
      padding: calc(15px * var(--menu-scale)) calc(10px * var(--menu-scale));
      color: #333333;
      font-weight: 300;
      transition: all 0.2s ease;
    }

    .mobile-menu a:hover, .mobile-menu a.active {
      background: #84766A;
      color: #F8F4EF;
    }

    .mobile-submenu {
      display: none;
      padding-left: 20px;
      background: #f9f9f9;
    }

    .mobile-submenu.active {
      display: block;
    }

    .mobile-submenu a {
      padding: calc(12px * var(--menu-scale)) calc(10px * var(--menu-scale));
      border-bottom: 1px solid #eee;
      font-size: calc(var(--menu-font-size) * 0.96);
    }

    .mobile-toggle {
      cursor: pointer;
      position: relative;
    }

    .mobile-toggle::after {
      content: '+';
      position: absolute;
      right: 15px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 20px;
      transition: transform 0.3s ease;
    }

    .mobile-toggle.active::after {
      transform: translateY(-50%) rotate(45deg);
    }

    /* ─────────────────────────────────────────────────────────────
       4) Desktop Top-Level Items
    ───────────────────────────────────────────────────────────── */
    .menu > li {
      position: relative;
      margin-right: 20px;
    }

    .menu > li > a, .menu > li > li > a, .menu > li > span {
      display: block;
      padding: calc(12px * var(--menu-scale)) calc(8px * var(--menu-scale));
      color: #333333;
      font-size: var(--menu-font-size);
      font-weight: 300;
      transition: color 0.2s ease, transform 0.2s ease;
      text-align: left;
      white-space: nowrap;
    }

    .menu > li > span {
      cursor: default;
    }

    .menu > li > a:hover, .menu > li > li > a:hover, .menu > li > span:hover {
      color: #84766A;
      transform: scale(1.05);
    }

    /* ─────────────────────────────────────────────────────────────
       5) First-Level Dropdown Container
    ───────────────────────────────────────────────────────────── */
    .menu li > ul {
      list-style: none;
      position: absolute;
      top: 100%;
      left: 0;
      background: var(--dropdown-bg);
      border: 1px solid #ddd;
      min-width: 200px;
      max-width: 90vw;
      opacity: 0;
      transform: translateY(-10px);
      transition: opacity 0.4s ease, transform 0.4s ease;
      z-index: 1000;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      pointer-events: none;
    }

    .menu li.has-child.open > ul {
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
    }

    /* ─────────────────────────────────────────────────────────────
       6) First-Level Submenu Items
    ───────────────────────────────────────────────────────────── */
    .menu li > ul > li {
      position: relative;
      opacity: 0;
      transform: translateY(-10px);
      animation-name: fadeInDown;
      animation-duration: 0.4s;
      animation-fill-mode: forwards;
    }

    .menu li.has-child.open > ul > li:nth-child(1)  { animation-delay: 0.05s; }
    .menu li.has-child.open > ul > li:nth-child(2)  { animation-delay: 0.10s; }
    .menu li.has-child.open > ul > li:nth-child(3)  { animation-delay: 0.15s; }
    .menu li.has-child.open > ul > li:nth-child(4)  { animation-delay: 0.20s; }
    .menu li.has-child.open > ul > li:nth-child(5)  { animation-delay: 0.25s; }
    .menu li.has-child.open > ul > li:nth-child(6)  { animation-delay: 0.30s; }
    .menu li.has-child.open > ul > li:nth-child(7)  { animation-delay: 0.35s; }
    .menu li.has-child.open > ul > li:nth-child(8)  { animation-delay: 0.40s; }
    .menu li.has-child.open > ul > li:nth-child(9)  { animation-delay: 0.45s; }
    .menu li.has-child.open > ul > li:nth-child(10) { animation-delay: 0.50s; }
    .menu li.has-child.open > ul > li:nth-child(11) { animation-delay: 0.55s; }
    .menu li.has-child.open > ul > li:nth-child(12) { animation-delay: 0.60s; }

    .menu li > ul > li > a, .menu li > ul > li > span {
      display: block;
      padding: 10px 14px;
      color: #333333;
      font-weight: 300;
      white-space: nowrap;
      transition: all 0.2s ease;
      text-align: left;
      border: 2px solid transparent;
      position: relative;
      font-size: calc(var(--menu-font-size) * 0.96);
    }

    .menu li > ul > li > span {
      cursor: default;
    }

    .menu li > ul > li > a:hover, .menu li > ul > li > span:hover {
      color: #84766A;
      background: rgba(132, 118, 106, 0.1);
      transform: scale(1.02);
    }

    .menu li > ul > li > a.active {
      background: #84766A;
      color: #F8F4EF;
      font-weight: 500;
      border: 2px solid #ffffff;
    }

    .menu li > ul > li > a:active {
      transform: scale(0.95);
      transition: transform 0.1s ease;
    }

    /* ─────────────────────────────────────────────────────────────
       7) Second-Level Dropdown Container
    ───────────────────────────────────────────────────────────── */
    .menu li > ul > li > ul {
      list-style: none;
      position: absolute;
      top: 0;
      left: 100%;
      background: var(--dropdown-bg);
      border: 1px solid #ddd;
      min-width: 200px;
      max-width: 90vw;
      opacity: 0;
      transform: translateY(-10px);
      transition: opacity 0.4s ease, transform 0.4s ease;
      z-index: 1000;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      pointer-events: none;
    }

    .menu li > ul > li.has-child.open > ul {
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
    }

    /* ─────────────────────────────────────────────────────────────
       8) Second-Level Submenu Items
    ───────────────────────────────────────────────────────────── */
    .menu li > ul > li > ul > li {
      opacity: 0;
      transform: translateY(-15px) translateX(10px);
    }

    .menu li.has-child > ul > li.has-child.open > ul > li:nth-child(1) {
      animation-name: cascadeDrop;
      animation-duration: 0.4s;
      animation-fill-mode: forwards;
      animation-delay: 0.05s;
    }
    .menu li.has-child > ul > li.has-child.open > ul > li:nth-child(2) {
      animation-name: cascadeDrop;
      animation-duration: 0.4s;
      animation-fill-mode: forwards;
      animation-delay: 0.15s;
    }
    .menu li.has-child > ul > li.has-child.open > ul > li:nth-child(3) {
      animation-name: cascadeDrop;
      animation-duration: 0.4s;
      animation-fill-mode: forwards;
      animation-delay: 0.25s;
    }
    .menu li.has-child > ul > li.has-child.open > ul > li:nth-child(4) {
      animation-name: cascadeDrop;
      animation-duration: 0.4s;
      animation-fill-mode: forwards;
      animation-delay: 0.35s;
    }
    .menu li.has-child > ul > li.has-child.open > ul > li:nth-child(5) {
      animation-name: cascadeDrop;
      animation-duration: 0.4s;
      animation-fill-mode: forwards;
      animation-delay: 0.45s;
    }
    .menu li.has-child > ul > li.has-child.open > ul > li:nth-child(6) {
      animation-name: cascadeDrop;
      animation-duration: 0.4s;
      animation-fill-mode: forwards;
      animation-delay: 0.55s;
    }
    .menu li.has-child > ul > li.has-child.open > ul > li:nth-child(7) {
      animation-name: cascadeDrop;
      animation-duration: 0.4s;
      animation-fill-mode: forwards;
      animation-delay: 0.65s;
    }
    .menu li.has-child > ul > li.has-child.open > ul > li:nth-child(8) {
      animation-name: cascadeDrop;
      animation-duration: 0.4s;
      animation-fill-mode: forwards;
      animation-delay: 0.75s;
    }
    .menu li.has-child > ul > li.has-child.open > ul > li:nth-child(9) {
      animation-name: cascadeDrop;
      animation-duration: 0.4s;
      animation-fill-mode: forwards;
      animation-delay: 0.85s;
    }
    .menu li.has-child > ul > li.has-child.open > ul > li:nth-child(10) {
      animation-name: cascadeDrop;
      animation-duration: 0.4s;
      animation-fill-mode: forwards;
      animation-delay: 0.95s;
    }
    .menu li.has-child > ul > li.has-child.open > ul > li:nth-child(11) {
      animation-name: cascadeDrop;
      animation-duration: 0.4s;
      animation-fill-mode: forwards;
      animation-delay: 1.05s;
    }
    .menu li.has-child > ul > li.has-child.open > ul > li:nth-child(12) {
      animation-name: cascadeDrop;
      animation-duration: 0.4s;
      animation-fill-mode: forwards;
      animation-delay: 1.15s;
    }

    .menu li > ul > li > ul > li > a {
      display: block;
      padding: 10px 14px;
      color: #333333;
      font-weight: 300;
      white-space: nowrap;
      transition: all 0.2s ease;
      text-align: left;
      border: 2px solid transparent;
      position: relative;
      font-size: calc(var(--menu-font-size) * 0.92);
    }

    .menu li > ul > li > ul > li > a:hover {
      color: #84766A;
      background: rgba(132, 118, 106, 0.1);
      transform: scale(1.02);
    }

    .menu li > ul > li > ul > li > a.active {
      background: #84766A;
      color: #F8F4EF;
      font-weight: 500;
      border: 2px solid #ffffff;
    }

    .menu li > ul > li > ul > li > a:active {
      transform: scale(0.95);
      transition: transform 0.1s ease;
    }

    /* ─────────────────────────────────────────────────────────────
       9) Responsive Breakpoints
    ───────────────────────────────────────────────────────────── */
    @media (max-width: 1024px) {
      .menu li > ul {
        min-width: 180px;
      }
      
      .menu li > ul > li > ul {
        min-width: 180px;
      }
    }

    @media (max-width: 768px) {
      .menu {
        display: none;
      }
      
      .hamburger {
        display: flex;
        position: fixed;
        top: 20px;
        left: 20px;
        z-index: 1002;
      }
      
      body.menu-open {
        overflow: hidden;
      }
    }

    @media (max-width: 480px) {
      .mobile-menu {
        padding: 70px 15px 15px;
      }
      
      .mobile-menu a {
        padding: calc(12px * var(--menu-scale)) calc(8px * var(--menu-scale));
        font-size: var(--menu-font-size);
      }
      
      .mobile-submenu a {
        padding: calc(10px * var(--menu-scale)) calc(8px * var(--menu-scale));
        font-size: calc(var(--menu-font-size) * 0.96);
      }
    }

    /* Landscape phones */
    @media (max-height: 500px) and (orientation: landscape) {
      .mobile-menu {
        padding: 60px 15px 15px;
      }
    }

    @media (max-width: 400px) {
      .menu {
        display: none;
      }
      .hamburger {
        display: flex;
      }
    }

    @media (max-width: 300px) {
      .menu {
        display: none !important;
      }
      .hamburger {
        display: flex !important;
      }
    }

    @media (min-width: 401px) {
      .menu {
        display: flex !important;
      }
      .hamburger {
        display: none !important;
      }
    }

    /* ─────────────────────────────────────────────────────────────
       10) Keyframes
    ───────────────────────────────────────────────────────────── */
    @keyframes fadeInDown {
      0% { opacity: 0; transform: translateY(-10px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes cascadeDrop {
      0%   { opacity: 0; transform: translateY(-15px) translateX(10px); }
      60%  { opacity: 1; transform: translateY(3px) translateX(5px); }
      100% { opacity: 1; transform: translateY(0) translateX(0); }
    }
  </style>
</head>

<body>
  <div class="menu-container">
    <!-- Hamburger Menu Button (Mobile) -->
    <button class="hamburger" id="hamburger">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <!-- Desktop Menu -->
    <ul class="menu" id="desktop-menu">
      <!-- ABOUT -->
      <li class="has-child">
        <span>ABOUT</span>
        <ul>
          <li><a href="https://www.lonestarridgebacks.com/about-us">About Us</a></li>
          <li><a href="https://www.lonestarridgebacks.com/testimonials">Testimonials</a></li>
          <li><a href="https://www.lonestarridgebacks.com/contact">Contact</a></li>
        </ul>
      </li>

      <!-- PUPPIES -->
      <li class="has-child">
        <span>PUPPIES</span>  
        <ul>
          <li><a href="https://www.lonestarridgebacks.com/sophie">Sophie</a></li>
          
          <li class="has-child">
            <a href="https://www.lonestarridgebacks.com/current-litter">Current Litter</a>
            <ul>
              <li><a href="https://www.lonestarridgebacks.com/group-photos">Group Photos</a></li>
              <li><a href="https://www.lonestarridgebacks.com/lainey">Lainey</a></li>
              <li><a href="https://www.lonestarridgebacks.com/dolly">Dolly</a></li>
              <li><a href="https://www.lonestarridgebacks.com/miley">Miley</a></li>
              <li><a href="https://www.lonestarridgebacks.com/elton">Elton</a></li>
              <li><a href="https://www.lonestarridgebacks.com/cojo">CoJo</a></li>
              <li><a href="https://www.lonestarridgebacks.com/malone">Malone</a></li>
              <li><a href="https://www.lonestarridgebacks.com/biggie">Biggie</a></li>
              <li><a href="https://www.lonestarridgebacks.com/cash">Cash</a></li>
              <li><a href="https://www.lonestarridgebacks.com/journey">Journey</a></li>
              <li><a href="https://www.lonestarridgebacks.com/bruno">Bruno</a></li>
            </ul>
          </li>

          <li class="has-child">
            <a href="https://www.lonestarridgebacks.com/past-litters">Past Litters</a>
            <ul>
              <li><a href="https://www.lonestarridgebacks.com/ross">Ross</a></li>
              <li><a href="https://www.lonestarridgebacks.com/joey">Joey</a></li>
              <li><a href="https://www.lonestarridgebacks.com/chandler">Chandler</a></li>
              <li><a href="https://www.lonestarridgebacks.com/richard">Richard</a></li>
              <li><a href="https://www.lonestarridgebacks.com/monica">Monica</a></li>
              <li><a href="https://www.lonestarridgebacks.com/rachel">Rachel</a></li>
              <li><a href="https://www.lonestarridgebacks.com/phoebe">Phoebe</a></li>
              <li><a href="https://www.lonestarridgebacks.com/emma">Emma</a></li>
              <li><a href="https://www.lonestarridgebacks.com/estelle">Estelle</a></li>
              <li><a href="https://www.lonestarridgebacks.com/carol">Carol</a></li>
              <li><a href="https://www.lonestarridgebacks.com/janice">Janice</a></li>
            </ul>
          </li>
        </ul>
      </li>

      <!-- MORE INFO -->
      <li class="has-child">
        <span>MORE INFO</span>
        <ul>
          <li><a href="https://www.lonestarridgebacks.com/adoption-process-pricing">Adoption Process &amp; Pricing</a></li>
          <li><a href="https://www.lonestarridgebacks.com/puppy-travel-delivery">Puppy Travel &amp; Delivery</a></li>
          <li><a href="https://www.lonestarridgebacks.com/financing">Financing</a></li>
          <li><a href="https://www.lonestarridgebacks.com/adoption-application">Adoption Application</a></li>
        </ul>
      </li>
    </ul>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobile-menu">
      <ul>
        <li>
          <span class="mobile-toggle">ABOUT</span>
          <ul class="mobile-submenu">
            <li><a href="https://www.lonestarridgebacks.com/about-us">About Us</a></li>
            <li><a href="https://www.lonestarridgebacks.com/testimonials">Testimonials</a></li>
            <li><a href="https://www.lonestarridgebacks.com/contact">Contact</a></li>
          </ul>
        </li>
        
        <li>
          <span class="mobile-toggle">PUPPIES</span>
          <ul class="mobile-submenu">
            <li><a href="https://www.lonestarridgebacks.com/sophie">Sophie</a></li>
            <li>
              <a href="https://www.lonestarridgebacks.com/current-litter" class="mobile-toggle">Current Litter</a>
              <ul class="mobile-submenu">
                <li><a href="https://www.lonestarridgebacks.com/group-photos">Group Photos</a></li>
                <li><a href="https://www.lonestarridgebacks.com/lainey">Lainey</a></li>
                <li><a href="https://www.lonestarridgebacks.com/dolly">Dolly</a></li>
                <li><a href="https://www.lonestarridgebacks.com/miley">Miley</a></li>
                <li><a href="https://www.lonestarridgebacks.com/elton">Elton</a></li>
                <li><a href="https://www.lonestarridgebacks.com/cojo">CoJo</a></li>
                <li><a href="https://www.lonestarridgebacks.com/malone">Malone</a></li>
                <li><a href="https://www.lonestarridgebacks.com/biggie">Biggie</a></li>
                <li><a href="https://www.lonestarridgebacks.com/cash">Cash</a></li>
                <li><a href="https://www.lonestarridgebacks.com/journey">Journey</a></li>
                <li><a href="https://www.lonestarridgebacks.com/bruno">Bruno</a></li>
              </ul>
            </li>
            <li>
              <a href="https://www.lonestarridgebacks.com/past-litters" class="mobile-toggle">Past Litters</a>
              <ul class="mobile-submenu">
                <li><a href="https://www.lonestarridgebacks.com/ross">Ross</a></li>
                <li><a href="https://www.lonestarridgebacks.com/joey">Joey</a></li>
                <li><a href="https://www.lonestarridgebacks.com/chandler">Chandler</a></li>
                <li><a href="https://www.lonestarridgebacks.com/richard">Richard</a></li>
                <li><a href="https://www.lonestarridgebacks.com/monica">Monica</a></li>
                <li><a href="https://www.lonestarridgebacks.com/rachel">Rachel</a></li>
                <li><a href="https://www.lonestarridgebacks.com/phoebe">Phoebe</a></li>
                <li><a href="https://www.lonestarridgebacks.com/emma">Emma</a></li>
                <li><a href="https://www.lonestarridgebacks.com/estelle">Estelle</a></li>
                <li><a href="https://www.lonestarridgebacks.com/carol">Carol</a></li>
                <li><a href="https://www.lonestarridgebacks.com/janice">Janice</a></li>
              </ul>
            </li>
          </ul>
        </li>
        
        <li>
          <span class="mobile-toggle">MORE INFO</span>
          <ul class="mobile-submenu">
            <li><a href="https://www.lonestarridgebacks.com/adoption-process-pricing">Adoption Process &amp; Pricing</a></li>
            <li><a href="https://www.lonestarridgebacks.com/puppy-travel-delivery">Puppy Travel &amp; Delivery</a></li>
            <li><a href="https://www.lonestarridgebacks.com/financing">Financing</a></li>
            <li><a href="https://www.lonestarridgebacks.com/adoption-application">Adoption Application</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const hamburger = document.getElementById('hamburger');
      const mobileMenu = document.getElementById('mobile-menu');
      const body = document.body;
      
      // Desktop menu functionality
      const parents = document.querySelectorAll('.menu li.has-child');
      parents.forEach(parentLi => {
        parentLi.addEventListener('mouseenter', () => {
          parentLi.classList.remove('closing');
          parentLi.classList.add('open');
        });

        parentLi.addEventListener('mouseleave', () => {
          parentLi.classList.remove('open');
          parentLi.classList.add('closing');
          setTimeout(() => {
            parentLi.classList.remove('closing');
          }, 700);
        });
      });

      // Desktop click handlers (only for actual links)
      document.querySelectorAll('.menu a').forEach(link => {
        link.addEventListener('click', function(e) {
          if (this.getAttribute('href') === '#') {
            e.preventDefault();
          }
          document.querySelectorAll('.menu a.active').forEach(el => el.classList.remove('active'));
          this.classList.add('active');
        });
      });

      // Hamburger menu toggle
      hamburger.addEventListener('click', () => {
        hamburger.classList.toggle('active');
        mobileMenu.classList.toggle('active');
        body.classList.toggle('menu-open');
      });

      // Mobile menu toggles - Updated to handle both links and toggles
      document.querySelectorAll('.mobile-toggle').forEach(toggle => {
        toggle.addEventListener('click', function(e) {
          // If it's a link (has href), let it navigate but also handle the toggle
          if (this.hasAttribute('href') && this.getAttribute('href') !== '#') {
            // For mobile litter links, we want both navigation and toggle functionality
            // The toggle functionality will still work
          } else {
            e.preventDefault();
          }
          
          // Close other open submenus at the same level
          const parentLi = this.parentElement;
          const siblings = parentLi.parentElement.children;
          
          Array.from(siblings).forEach(sibling => {
            if (sibling !== parentLi) {
              const siblingToggle = sibling.querySelector('.mobile-toggle');
              const siblingSubmenu = sibling.querySelector('.mobile-submenu');
              if (siblingToggle && siblingSubmenu) {
                siblingToggle.classList.remove('active');
                siblingSubmenu.classList.remove('active');
              }
            }
          });
          
          // Toggle current submenu
          this.classList.toggle('active');
          const submenu = this.nextElementSibling;
          if (submenu && submenu.classList.contains('mobile-submenu')) {
            submenu.classList.toggle('active');
          }
        });
      });

      // Mobile menu item clicks (for non-toggle links)
      document.querySelectorAll('.mobile-menu a:not(.mobile-toggle)').forEach(link => {
        link.addEventListener('click', function() {
          // Close mobile menu when a link is clicked
          hamburger.classList.remove('active');
          mobileMenu.classList.remove('active');
          body.classList.remove('menu-open');
          
          // Set active state
          document.querySelectorAll('.mobile-menu a.active').forEach(el => el.classList.remove('active'));
          this.classList.add('active');
        });
      });

      // Close mobile menu when clicking outside
      mobileMenu.addEventListener('click', (e) => {
        if (e.target === mobileMenu) {
          hamburger.classList.remove('active');
          mobileMenu.classList.remove('active');
          body.classList.remove('menu-open');
        }
      });

      // Handle window resize
      window.addEventListener('resize', () => {
        if (window.innerWidth > 768) {
          hamburger.classList.remove('active');
          mobileMenu.classList.remove('active');
          body.classList.remove('menu-open');
        }
      });

      function updateMenuScale() {
        // Wix proportional scaling logic approximation:
        const minWidth = 320;
        const maxWidth = 1400;
        const minScale = 0.85;
        const maxScale = 1.25;
        const w = Math.max(window.innerWidth, minWidth);
        let scale = ((w - minWidth) / (maxWidth - minWidth)) * (maxScale - minScale) + minScale;
        scale = Math.max(minScale, Math.min(maxScale, scale));
        document.documentElement.style.setProperty('--menu-scale', scale);

        // Hamburger/menu switch - always show hamburger if not regular menu
        const menu = document.getElementById('desktop-menu');
        const hamburger = document.getElementById('hamburger');
        if (w < 401) {
          if (menu) menu.style.display = 'none';
          if (hamburger) hamburger.style.display = 'flex';
        } else {
          if (menu) menu.style.display = 'flex';
          if (hamburger) hamburger.style.display = 'none';
        }
      }

      window.addEventListener('resize', updateMenuScale);
      window.addEventListener('DOMContentLoaded', updateMenuScale);

      setTimeout(updateMenuScale, 1000);
      setTimeout(updateMenuScale, 2500);
      setTimeout(updateMenuScale, 4000);

      let updateCount = 0;
      const intervalId = setInterval(() => {
        updateMenuScale();
        updateCount++;
        if (updateCount > 5) clearInterval(intervalId);
      }, 4000);

      // Force all menu links to open in the top window (break out of iframe)
      document.querySelectorAll('.menu a, .mobile-menu a').forEach(link => {
        link.addEventListener('click', function(e) {
          const href = this.getAttribute('href');
          if (href && href !== '#') {
            e.preventDefault();
            window.top.location.href = href;
          }
        });
      });
    });
  </script>
</body>
</html>